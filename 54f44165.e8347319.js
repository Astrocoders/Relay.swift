(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{112:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return s}));var a=n(3),r=n(7),i=(n(0),n(188)),o={title:"Installation"},l={unversionedId:"getting-started/installation",id:"getting-started/installation",isDocsHomePage:!1,title:"Installation",description:"Installing the SwiftPM package",source:"@site/docs/getting-started/installation.md",slug:"/getting-started/installation",permalink:"/Relay.swift/docs/next/getting-started/installation",editUrl:"https://github.com/relay-tools/Relay.swift/edit/main/website/docs/getting-started/installation.md",version:"current",sidebar:"docs",previous:{title:"Relay.swift",permalink:"/Relay.swift/docs/next/"},next:{title:"The Relay environment",permalink:"/Relay.swift/docs/next/getting-started/relay-environment"}},c=[{value:"Installing the SwiftPM package",id:"installing-the-swiftpm-package",children:[]},{value:"Relay compiler configuration",id:"relay-compiler-configuration",children:[]}],p={toc:c};function s(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"installing-the-swiftpm-package"},"Installing the SwiftPM package"),Object(i.b)("p",null,"Relay.swift is available as a SwiftPM package. You can add the package to an existing Xcode project using Xcode's built-in support for SwiftPM packages. If you want, you can follow along with the Getting Started guide by doing this in a new Single View SwiftUI app."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Click on your project in Xcode\u2019s Project navigator."),Object(i.b)("li",{parentName:"ol"},"Select the project in the sidebar of the editor."),Object(i.b)("li",{parentName:"ol"},"Hit the + button on the Swift Packages tab."),Object(i.b)("li",{parentName:"ol"},"Enter\xa0",Object(i.b)("inlineCode",{parentName:"li"},"https://github.com/relay-tools/Relay.swift"),"\xa0for the package repository URL."),Object(i.b)("li",{parentName:"ol"},"Leave the default version as is unless you know you want a different version."),Object(i.b)("li",{parentName:"ol"},"Add the ",Object(i.b)("inlineCode",{parentName:"li"},"Relay")," and ",Object(i.b)("inlineCode",{parentName:"li"},"RelaySwiftUI")," libraries to the target for your app."),Object(i.b)("li",{parentName:"ol"},'Choose "Finish".')),Object(i.b)("p",null,"At this point, you should be able to use ",Object(i.b)("inlineCode",{parentName:"p"},"import Relay")," and ",Object(i.b)("inlineCode",{parentName:"p"},"import RelaySwiftUI")," in your Swift files without issue."),Object(i.b)("h2",{id:"relay-compiler-configuration"},"Relay compiler configuration"),Object(i.b)("p",null,"Relay.swift needs to generate Swift code for you based on the queries you use in your app. We use the official Relay compiler with a custom language plugin to do this. You can create a nearly empty npm package for your app, and then install the necessary dependencies into that package:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"$ npm init -y\n$ npm install graphql relay-config relay-compiler relay-compiler-language-swift\n")),Object(i.b)("p",null,"You only need to worry about installing these while developing your app. Any code generated by the Relay compiler should get committed into version control, so your app will be able to build without these dependencies."),Object(i.b)("p",null,"Now you should be able to run the Relay compiler using ",Object(i.b)("inlineCode",{parentName:"p"},"npx"),":"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"$ npx relay-compiler --help\nCreate Relay generated files\n\nrelay-compiler --schema <path> --src <path> [--watch]\n\nOptions:\n...\n")),Object(i.b)("p",null,"We can configure the relay-compiler by creating a ",Object(i.b)("inlineCode",{parentName:"p"},"relay-config.js")," file:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-js"},'module.exports = {\n  src: ".",\n  schema: "schema.graphql",\n  language: "swift",\n  artifactDirectory: "./__generated__"\n};\n')),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"src")," is the directory where all of your Swift sources are. These are the files that the Relay compiler will scan for GraphQL queries.\n",Object(i.b)("inlineCode",{parentName:"p"},"schema")," is the path to your GraphQL schema file. You'll need a local copy of your schema for the compiler to generate code for your queries.\n",Object(i.b)("inlineCode",{parentName:"p"},"artifactDirectory")," is the directory where the Relay compiler will generate Swift files. This directory should be designated exclusively for files generated by Relay, as the compiler will remove any files it didn't generate."),Object(i.b)("p",null,"Now you should be able to run ",Object(i.b)("inlineCode",{parentName:"p"},"npx relay-compiler"),". There won't be any files to generate yet. We'll get to those soon."))}s.isMDXComponent=!0},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return f}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=r.a.createContext({}),s=function(e){var t=r.a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return r.a.createElement(p.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},d=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=s(n),d=a,f=u["".concat(o,".").concat(d)]||u[d]||b[d]||i;return n?r.a.createElement(f,l(l({ref:t},p),{},{components:n})):r.a.createElement(f,l({ref:t},p))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);